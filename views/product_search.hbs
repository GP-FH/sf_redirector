<div class="container">
  <h1 class="my-4 text-center text-lg-left">Product Search</h1>
  {{#if error}}
    <div id="search_error" class="alert alert-danger mt-3" role="alert">
      {{error}}
    </div>
  {{/if}}
  <!-- Removing this for now because it is confusing and pribs gonna go
  <div class="card ml-5 mt-3 mr-5">
    <div class="card-header">
      Get products by Subscription ID (experimental)
    </div>
    <div class="card-body">
      <p class="card-text">See all products that match a sub's style profile</p>
      <form action="/hq/product_search" method="post" id="sub_search_input">
        <input type="hidden" name="_csrf" value="{{csrfToken}}">
        <input type="hidden" name="sub_search" value="1">
        <div class="form-group">
          <input type="text" class="form-control" id="search_input" placeholder="Enter Chargebee subscription ID" name=search_input>
        </div>
        <button id="sub_search_button" type="submit" class="btn btn-primary">Search</button>
      </form>
    </div>
    <div class="row text-center text-lg-left" id="sub_results">
      {{#each sub_results}}
        <div class="col-lg-3 col-md-4 col-xs-6">
          <a href="{{this.tg_link}}" class="d-block mb-4 h-100" target="_blank">
            <figure class="figure">
              <img class="figure-img img-fluid img-thumbnail" src="{{this.image}}" alt="">
              <figcaption class="figure-caption"><b>SKU:</b>{{this.sku}}<br><b>Name:</b>{{this.name}}<br><b>Brand:</b>{{this.brand}}<br><b>Colour:</b>{{this.colour}}<br><b>Size:</b>{{this.size}}<br><b>Stock On Hand:</b>{{this.stock_on_hand}}<br><b>Value:</b>{{this.price}}</figcaption>
            </figure>
          </a>
        </div>
      {{/each}}
    </div>
  </div> -->

  <div class="card ml-5 mt-3 mr-5">
    <div class="card-header">
      <h3>See all products that match filters you select</h3>
      <p>Some notes:</p>
      <p>- Only returns items where we currently have Stock on Hand</p>
    </div>
    <div class="card-body">
      
      <form action="/hq/product_search" method="post" id="filter_search_input">
        <input type="hidden" name="_csrf" value="{{csrfToken}}">
        <input type="hidden" name="filter_search" value="1">
        <div class="form-group">
          <label for="style_tags_input">Style Tags</label>
          <input type="text" class="form-control" id="style_tags_input" placeholder="a,comma,separated,list" name="style_tags_input" >
          <div class="alert alert-light" role="alert">
            Some notes on tags:
            <ul>
              <li>This field is optional: if you include no tags, it will return everything</li>
              <li>'tis case sensitive (e.g Urban does not equal urban). Copy pasting the tags below will help :)</li>
            </ul>
            
            Existing tags (though I'm sure there are others): <br><br>
            
            Animal Patterns, Basic, Black and White Line Patterns, Boho, Bold Character Patterns, Bold Monochrome, Bold Patterns, 
            Boys, Classic Patterns, Cool Neutrals, Floral, Hip Patterns, Long Bottoms, Luxe, Monochrome, Natural Neutral, Neutrals, OSFA, 
            Oversized, Pared Back, Sky Pastels, Sophisticated, Street, Subtle Monochrome, Tops, Bottoms, Unisex, Urban, Warm Neutrals, Warm Tops
          </div>
          <br>
          <label for="customer_email_input">Customer email</label>
          <input type="text" class="form-control" id="customer_email_input" placeholder="person@thing.com" name="customer_email_input" >
          <div class="alert alert-light" role="alert">
            Some notes on customer email:
            <ul>
              <li>This field is optional</li>
              <li>It doesn't back at cin7 orders (though this is less and less relevant) so you'll have to head <a href="/hq/shipped_product_search">here</a> to check</li>
              <li>It doesn't just filter out the exact variant we sent but instances of this variant in other sizes as well</li>
            </ul>
          </div>
        </div>
        <div class="form-group">
          <label for="size_select">Bottom Size</label>
          <select multiple class="form-control" id="size_select_input" name="size_select_input_bottom">
            <option>0m3</option>
            <option>3m6</option>
            <option>6m12</option>
            <option>1</option>
            <option>1y2</option>
            <option>2</option>  
            <option>2y3</option>
            <option>3</option>
            <option>3y4</option>
            <option>4</option>
            <option>4y5</option>
            <option>5</option>
            <option>5y6</option>
            <option>6</option>
            <option>6y7</option>
            <option>7</option>
          </select>
          <label for="size_select">Top Size</label>
          <select multiple class="form-control" id="size_select_input" name="size_select_input_top">
            <option>0m3</option>
            <option>3m6</option>
            <option>6m12</option>
            <option>1</option>
            <option>1y2</option>
            <option>2</option>
            <option>2y3</option>
            <option>3</option>
            <option>3y4</option>
            <option>4</option>
            <option>4y5</option>
            <option>5</option>
            <option>5y6</option>
            <option>6</option>
            <option>6y7</option>
            <option>7</option>
          </select>
          <div class="alert alert-light" role="alert">
            Some notes about sizes:
            <ul>
              <li>This is an optional field. If you choose no sizes it will return products of all sizes.</li>
              <li>However if you choose a size you must select one for both Bottom and Top. (I will remove this limitation soon)</li>
              <li>You can select multiple sizes for each my Ctrl-clicking</li>
            </ul>
          </div>
        </div>
        <button id="reg_search_button" type="submit" class="btn btn-primary mb-2">Search</button>
      </form>
    </div>
    <div class="row text-center text-lg-left" id="reg_results">
      {{#each filter_results}}
      <div class="col-lg-3 col-md-4 col-xs-6">
        <a href="{{this.tg_link}}" class="d-block mb-4 h-100" target="_blank">
          <figure class="figure">
            <img class="figure-img img-fluid img-thumbnail" src="{{this.image}}" alt="">
            <figcaption class="figure-caption"><b>SKU:</b>{{this.sku}}<br><b>Name:</b>{{this.name}}<br><b>Brand:</b>{{this.brand}}<br><b>Colour:</b>{{this.colour}}<br><b>Size:</b>{{this.size}}<br><b>Stock On Hand:</b>{{this.stock_on_hand}}<br><b>Value:</b>{{this.price}}</figcaption>
          </figure>
        </a>
      </div>
      {{/each}}
    </div>
  </div>
</div>
